function getUsuario(n,t){$.ajax({type:"POST",url:t,data:{id:n},success:function(n){mostrarUsuario(n)}})}function mostrarUsuario(n){var t,i;for(items=n,j=0,t=0;t<3;t++)i=document.getElementById("Select"),i.remove(t);$.each(items,function(n,t){$("input[name=Id]").val(t.id);$("input[name=UserName]").val(t.userName);$("input[name=Email]").val(t.email);$("input[name=PhoneNumber]").val(t.telefono);document.getElementById("Select").options[0]=new Option(t.role,t.roleId);$("#dEmail").text(t.email);$("#dUserName").text(t.userName);$("#dPhoneNumber").text(t.telefono);$("#dRole").text(t.role);$("#eUsuario").text(t.email);$("input[name=EIdUsuario]").val(t.id)})}function getRoles(n){$.ajax({type:"POST",url:n,data:{},success:function(n){if(j==0){for(var t=0;t<n.length;t++)document.getElementById("Select").options[t]=new Option(n[t].text,n[t].value),document.getElementById("SelectNuevo").options[t]=new Option(n[t].text,n[t].value);j=1}}})}function editarUsuario(n){id=$("input[name=Id]")[0].value;email=$("input[name=Email]")[0].value;phoneNumber=$("input[name=PhoneNumber]")[0].value;role=document.getElementById("Select");selectRole=role.options[role.selectedIndex].text;$.each(items,function(n,t){accessFailedCount=t.accessFailedCount;concurrencyStamp=t.concurrencyStamp;emailConfirmed=t.emailConfirmed;lockoutEnabled=t.lockoutEnabled;lockoutEnd=t.lockoutEnd;userName=t.userName;normalizedUserName=t.normalizedUserName;normalizedEmail=t.normalizedEmail;passwordHash=t.passwordHash;phoneNumberConfirmed=t.phoneNumberConfirmed;securityStamp=t.securityStamp;twoFactorEnabled=t.twoFactorEnabled});$.ajax({type:"POST",url:n,data:{id,userName,email,phoneNumber,accessFailedCount,concurrencyStamp,emailConfirmed,lockoutEnabled,lockoutEnd,normalizedEmail,normalizedUserName,passwordHash,phoneNumberConfirmed,securityStamp,twoFactorEnabled,selectRole},success:function(n){n=="Save"?window.location.href="Usuarios":alert("No se puede editar los datos del usuario")}})}function ocultarDetalleUsuario(){$("#modalDetalle").modal("hide")}function eliminarUsuario(n){var t=$("input[name=EIdUsuario]")[0].value;$.ajax({type:"POST",url:n,data:{id:t},success:function(n){n==="Delete"?window.location.href="Usuarios":alert("No se puede eliminar el registro")}})}function crearUsuario(n){email=$("input[name=EmailNuevo]")[0].value;phoneNumber=$("input[name=PhoneNumberNuevo]")[0].value;nombre=$("input[name=NombreNuevo]")[0].value;apellidopaterno=$("input[name=ApellidoPaternoNuevo]")[0].value;apellidomaterno=$("input[name=ApellidoMaternoNuevo]")[0].value;dni=$("input[name=DniNuevo]")[0].value;direccion=$("input[name=DireccionNuevo]")[0].value;passwordHash=$("input[name=PasswordHashNuevo]")[0].value;role=document.getElementById("SelectNuevo");selectRole=role.options[role.selectedIndex].text;email==""?($("#EmailNuevo").focus(),alert("Ingrese el email del usuario")):passwordHash==""?($("#PasswordHashNuevo").focus(),alert("Ingrese el password del usuario")):$.ajax({type:"POST",url:n,data:{email,phoneNumber,passwordHash,selectRole},success:function(n){n==="Save"?window.location.href="Usuarios":$("#mensajenuevo").html("No se puede guardar el usuario. <br/>Seleccione un rol. <br/> Ingrese un email correcto. <br/> El password debe tener de 6-100 caracteres, al menos un caracter especial, una letra mayúscula y un número")}})}$("#modalEditar").on("shown.bs.modal",function(){$("#myInput").focus()});$("#modalDetalleSolicitud").on("shown.bs.modal",function(){$("#myInput").focus()});$("#modalConfirmacion").on("shown.bs.modal",function(){$("#myInput").focus()});$("#modalAC").on("shown.bs.modal",function(){$("#Nombre").focus()});var items,j=0,id,userName,email,phoneNumber,role,selectRole,Nombre,ApellidoMaterno,ApellidoPaterno,Dni,Telefono,Direccion,accessFailedCount,concurrencyStamp,emailConfirmed,lockoutEnabled,lockoutEnd,normalizedUserName,normalizedEmail,passwordHash,phoneNumberConfirmed,securityStamp,twoFactorEnabled;